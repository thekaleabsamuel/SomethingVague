{"ast":null,"code":"import { useEffect, useRef } from \"react\";\nfunction useRegionEvent(ref, eventName, callback) {\n  const callbackRef = useRef(null);\n  useEffect(() => {\n    if (!ref) {\n      return;\n    }\n    if (callback) {\n      callbackRef.current = (...args) => callback(ref, ...args);\n      ref.on(eventName, callbackRef.current);\n    }\n    return () => {\n      callbackRef.current && ref.un(eventName, callbackRef.current);\n      callbackRef.current = null;\n    };\n  }, [ref, eventName, callback]);\n}\nexport default useRegionEvent;","map":{"version":3,"names":["useEffect","useRef","useRegionEvent","ref","eventName","callback","callbackRef","current","args","on","un"],"sources":["/Users/new/Downloads/Projects/online-radio-station/node_modules/wavesurfer-react/src/hooks/useRegionEvent.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { Region, RegionEvents } from \"wavesurfer.js/dist/plugins/regions\";\n\nimport { EventListener } from \"../types\";\n\nexport type RegionEventListener = (region: Region, ...rest: Parameters<EventListener<RegionEvents, keyof RegionEvents>>) => void;\n\nfunction useRegionEvent<K extends keyof RegionEvents>(\n  ref: Region | null | undefined,\n  eventName: K,\n  callback?: RegionEventListener\n) {\n  const callbackRef = useRef<EventListener<RegionEvents, keyof RegionEvents> | null>(null);\n\n  useEffect(() => {\n    if (!ref) {\n      return;\n    }\n\n    if (callback) {\n      callbackRef.current = (...args) => callback(ref, ...args);\n\n      ref.on(eventName, callbackRef.current);\n    }\n\n    return () => {\n      callbackRef.current && ref.un(eventName, callbackRef.current);\n      callbackRef.current = null;\n    };\n  }, [ref, eventName, callback]);\n}\n\nexport default useRegionEvent;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAOzC,SAASC,cAAcA,CACrBC,GAA8B,EAC9BC,SAAY,EACZC,QAA8B;EAE9B,MAAMC,WAAW,GAAGL,MAAM,CAAyD,IAAI,CAAC;EAExFD,SAAS,CAAC,MAAK;IACb,IAAI,CAACG,GAAG,EAAE;MACR;IACF;IAEA,IAAIE,QAAQ,EAAE;MACZC,WAAW,CAACC,OAAO,GAAG,CAAC,GAAGC,IAAI,KAAKH,QAAQ,CAACF,GAAG,EAAE,GAAGK,IAAI,CAAC;MAEzDL,GAAG,CAACM,EAAE,CAACL,SAAS,EAAEE,WAAW,CAACC,OAAO,CAAC;IACxC;IAEA,OAAO,MAAK;MACVD,WAAW,CAACC,OAAO,IAAIJ,GAAG,CAACO,EAAE,CAACN,SAAS,EAAEE,WAAW,CAACC,OAAO,CAAC;MAC7DD,WAAW,CAACC,OAAO,GAAG,IAAI;IAC5B,CAAC;EACH,CAAC,EAAE,CAACJ,GAAG,EAAEC,SAAS,EAAEC,QAAQ,CAAC,CAAC;AAChC;AAEA,eAAeH,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}