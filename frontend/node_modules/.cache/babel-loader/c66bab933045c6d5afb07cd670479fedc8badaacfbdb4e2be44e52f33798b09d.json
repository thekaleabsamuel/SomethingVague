{"ast":null,"code":"import { useEffect, useRef } from \"react\";\n// TODO: try to merge it with useRegionEvent\nfunction useRegionPluginEvent(ref, eventName, callback) {\n  const callbackRef = useRef(null);\n  useEffect(() => {\n    if (!ref) {\n      return;\n    }\n    if (callback) {\n      callbackRef.current = (...args) => callback(...args);\n      ref.on(eventName, callbackRef.current);\n    }\n    return () => {\n      callbackRef.current && ref.un(eventName, callbackRef.current);\n      callbackRef.current = null;\n    };\n  }, [ref, eventName, callback]);\n}\nexport default useRegionPluginEvent;","map":{"version":3,"names":["useEffect","useRef","useRegionPluginEvent","ref","eventName","callback","callbackRef","current","args","on","un"],"sources":["/Users/new/Downloads/Projects/online-radio-station/node_modules/wavesurfer-react/src/hooks/useRegionPluginEvent.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport RegionsPlugin, { RegionsPluginEvents } from \"wavesurfer.js/dist/plugins/regions\";\n\nimport { EventListener } from \"../types\";\n\nexport type RegionPluginEventListener = (...rest: Parameters<EventListener<RegionsPluginEvents, keyof RegionsPluginEvents>>) => void;\n\n// TODO: try to merge it with useRegionEvent\nfunction useRegionPluginEvent<K extends keyof RegionsPluginEvents>(\n  ref: RegionsPlugin | null | undefined,\n  eventName: K,\n  callback?: RegionPluginEventListener\n) {\n  const callbackRef = useRef<EventListener<RegionsPluginEvents, keyof RegionsPluginEvents> | null>(null);\n\n  useEffect(() => {\n    if (!ref) {\n      return;\n    }\n\n    if (callback) {\n      callbackRef.current = (...args) => callback(...args);\n\n      ref.on(eventName, callbackRef.current);\n    }\n\n    return () => {\n      callbackRef.current && ref.un(eventName, callbackRef.current);\n      callbackRef.current = null;\n    };\n  }, [ref, eventName, callback]);\n}\n\nexport default useRegionPluginEvent;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAOzC;AACA,SAASC,oBAAoBA,CAC3BC,GAAqC,EACrCC,SAAY,EACZC,QAAoC;EAEpC,MAAMC,WAAW,GAAGL,MAAM,CAAuE,IAAI,CAAC;EAEtGD,SAAS,CAAC,MAAK;IACb,IAAI,CAACG,GAAG,EAAE;MACR;IACF;IAEA,IAAIE,QAAQ,EAAE;MACZC,WAAW,CAACC,OAAO,GAAG,CAAC,GAAGC,IAAI,KAAKH,QAAQ,CAAC,GAAGG,IAAI,CAAC;MAEpDL,GAAG,CAACM,EAAE,CAACL,SAAS,EAAEE,WAAW,CAACC,OAAO,CAAC;IACxC;IAEA,OAAO,MAAK;MACVD,WAAW,CAACC,OAAO,IAAIJ,GAAG,CAACO,EAAE,CAACN,SAAS,EAAEE,WAAW,CAACC,OAAO,CAAC;MAC7DD,WAAW,CAACC,OAAO,GAAG,IAAI;IAC5B,CAAC;EACH,CAAC,EAAE,CAACJ,GAAG,EAAEC,SAAS,EAAEC,QAAQ,CAAC,CAAC;AAChC;AAEA,eAAeH,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}