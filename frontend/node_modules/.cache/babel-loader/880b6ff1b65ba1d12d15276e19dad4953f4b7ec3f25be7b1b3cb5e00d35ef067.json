{"ast":null,"code":"var _jsxFileName = \"/Users/new/Downloads/Projects/online-radio-station/frontend/src/components/CommentSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../styles/commentSection.css'; // Create this CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CommentSection({\n  user,\n  currentTrack\n}) {\n  _s();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const commentsContainerRef = useRef(null);\n\n  // Safely extract track ID\n  const trackId = (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.id) || 'unknown';\n\n  // Fetch comments for the current track\n  useEffect(() => {\n    const fetchComments = async () => {\n      if (!currentTrack) return;\n      try {\n        const response = await fetch(`http://localhost:5001/api/tracks/${trackId}/comments`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch comments');\n        }\n        const data = await response.json();\n        console.log('Fetched comments:', data); // Debug log\n        setComments(data);\n      } catch (error) {\n        console.error('Error fetching comments:', error);\n      }\n    };\n    fetchComments();\n  }, [trackId, currentTrack]);\n\n  // Auto-scroll to bottom when new comments are added\n  useEffect(() => {\n    if (commentsContainerRef.current) {\n      const container = commentsContainerRef.current;\n      container.scrollTop = container.scrollHeight;\n    }\n  }, [comments.length]);\n  const handleSubmitComment = async e => {\n    e.preventDefault();\n    if (!newComment.trim() || !user) return;\n    setIsSubmitting(true);\n    try {\n      var _data$author, _data$author2;\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('You must be logged in to comment');\n      }\n      const response = await fetch(`http://localhost:5001/api/tracks/${trackId}/comments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          content: newComment\n        })\n      });\n      if (!response.ok) {\n        if (response.status === 401) {\n          // Clear invalid token and user data\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          throw new Error('Your session has expired. Please log in again.');\n        }\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to post comment');\n      }\n      const data = await response.json();\n      console.log('New comment response:', data); // Debug log\n\n      // Ensure the new comment has the required structure\n      const newCommentWithDefaults = {\n        ...data,\n        author: {\n          ...data.author,\n          profilePicture: ((_data$author = data.author) === null || _data$author === void 0 ? void 0 : _data$author.profilePicture) || user.profilePicture || 'https://via.placeholder.com/40',\n          username: ((_data$author2 = data.author) === null || _data$author2 === void 0 ? void 0 : _data$author2.username) || user.username || 'Anonymous'\n        }\n      };\n      setComments(prevComments => [...prevComments, newCommentWithDefaults]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Failed to post comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Format timestamp to show how long ago the comment was posted\n  const formatTimestamp = timestamp => {\n    if (!timestamp) return 'just now';\n    const commentDate = new Date(timestamp);\n    const now = new Date();\n    const diffSeconds = Math.floor((now - commentDate) / 1000);\n    if (diffSeconds < 60) return 'just now';\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)} min ago`;\n    if (diffSeconds < 86400) return `${Math.floor(diffSeconds / 3600)} hr ago`;\n    return `${Math.floor(diffSeconds / 86400)} day(s) ago`;\n  };\n\n  // If no track is available, show a placeholder message\n  if (!currentTrack) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"comment-section-title\",\n        children: \"Live Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments-container\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-comments\",\n          children: \"Track information is loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"comment-section-title\",\n      children: \"Live Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-container\",\n      ref: commentsContainerRef,\n      children: comments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-comments\",\n        children: \"Be the first to comment on this track!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this) : comments.map(comment => {\n        // Safely access comment data with defaults\n        const content = (comment === null || comment === void 0 ? void 0 : comment.content) || '';\n        const createdAt = (comment === null || comment === void 0 ? void 0 : comment.createdAt) || new Date().toISOString();\n        const author = (comment === null || comment === void 0 ? void 0 : comment.author) || {};\n        const profilePicture = (author === null || author === void 0 ? void 0 : author.profilePicture) || (user === null || user === void 0 ? void 0 : user.profilePicture) || 'https://via.placeholder.com/40';\n        const username = (author === null || author === void 0 ? void 0 : author.username) || (user === null || user === void 0 ? void 0 : user.username) || 'Anonymous';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: profilePicture,\n              alt: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"comment-author\",\n                children: username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"comment-time\",\n                children: formatTimestamp(createdAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"comment-text\",\n              children: content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 17\n          }, this)]\n        }, comment._id || Date.now(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), user ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmitComment,\n      className: \"comment-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newComment,\n        onChange: e => setNewComment(e.target.value),\n        placeholder: \"Add a comment...\",\n        disabled: isSubmitting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isSubmitting || !newComment.trim(),\n        children: isSubmitting ? '...' : 'Send'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-login-prompt\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), \" to join the conversation\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentSection, \"Gibhncv8bz2wRjbbtdvnVipD82c=\");\n_c = CommentSection;\nexport default CommentSection;\nvar _c;\n$RefreshReg$(_c, \"CommentSection\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","jsxDEV","_jsxDEV","CommentSection","user","currentTrack","_s","comments","setComments","newComment","setNewComment","isSubmitting","setIsSubmitting","commentsContainerRef","trackId","id","fetchComments","response","fetch","ok","Error","data","json","console","log","error","current","container","scrollTop","scrollHeight","length","handleSubmitComment","e","preventDefault","trim","_data$author","_data$author2","token","localStorage","getItem","method","headers","body","JSON","stringify","content","status","removeItem","errorData","message","newCommentWithDefaults","author","profilePicture","username","prevComments","formatTimestamp","timestamp","commentDate","Date","now","diffSeconds","Math","floor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","comment","createdAt","toISOString","src","alt","_id","onSubmit","type","value","onChange","target","placeholder","disabled","to","_c","$RefreshReg$"],"sources":["/Users/new/Downloads/Projects/online-radio-station/frontend/src/components/CommentSection.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../styles/commentSection.css'; // Create this CSS file\n\nfunction CommentSection({ user, currentTrack }) {\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const commentsContainerRef = useRef(null);\n\n  // Safely extract track ID\n  const trackId = currentTrack?.id || 'unknown';\n\n  // Fetch comments for the current track\n  useEffect(() => {\n    const fetchComments = async () => {\n      if (!currentTrack) return;\n      \n      try {\n        const response = await fetch(`http://localhost:5001/api/tracks/${trackId}/comments`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch comments');\n        }\n        const data = await response.json();\n        console.log('Fetched comments:', data); // Debug log\n        setComments(data);\n      } catch (error) {\n        console.error('Error fetching comments:', error);\n      }\n    };\n\n    fetchComments();\n  }, [trackId, currentTrack]);\n\n  // Auto-scroll to bottom when new comments are added\n  useEffect(() => {\n    if (commentsContainerRef.current) {\n      const container = commentsContainerRef.current;\n      container.scrollTop = container.scrollHeight;\n    }\n  }, [comments.length]);\n\n  const handleSubmitComment = async (e) => {\n    e.preventDefault();\n    if (!newComment.trim() || !user) return;\n    \n    setIsSubmitting(true);\n    \n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('You must be logged in to comment');\n      }\n\n      const response = await fetch(`http://localhost:5001/api/tracks/${trackId}/comments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          content: newComment\n        })\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          // Clear invalid token and user data\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          throw new Error('Your session has expired. Please log in again.');\n        }\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to post comment');\n      }\n\n      const data = await response.json();\n      console.log('New comment response:', data); // Debug log\n      \n      // Ensure the new comment has the required structure\n      const newCommentWithDefaults = {\n        ...data,\n        author: {\n          ...data.author,\n          profilePicture: data.author?.profilePicture || user.profilePicture || 'https://via.placeholder.com/40',\n          username: data.author?.username || user.username || 'Anonymous'\n        }\n      };\n      \n      setComments(prevComments => [...prevComments, newCommentWithDefaults]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Failed to post comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Format timestamp to show how long ago the comment was posted\n  const formatTimestamp = (timestamp) => {\n    if (!timestamp) return 'just now';\n    \n    const commentDate = new Date(timestamp);\n    const now = new Date();\n    const diffSeconds = Math.floor((now - commentDate) / 1000);\n    \n    if (diffSeconds < 60) return 'just now';\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)} min ago`;\n    if (diffSeconds < 86400) return `${Math.floor(diffSeconds / 3600)} hr ago`;\n    return `${Math.floor(diffSeconds / 86400)} day(s) ago`;\n  };\n\n  // If no track is available, show a placeholder message\n  if (!currentTrack) {\n    return (\n      <div className=\"comment-section\">\n        <h3 className=\"comment-section-title\">Live Chat</h3>\n        <div className=\"comments-container\">\n          <p className=\"no-comments\">Track information is loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"comment-section\">\n      <h3 className=\"comment-section-title\">Live Chat</h3>\n      \n      <div className=\"comments-container\" ref={commentsContainerRef}>\n        {comments.length === 0 ? (\n          <p className=\"no-comments\">Be the first to comment on this track!</p>\n        ) : (\n          comments.map(comment => {\n            // Safely access comment data with defaults\n            const content = comment?.content || '';\n            const createdAt = comment?.createdAt || new Date().toISOString();\n            const author = comment?.author || {};\n            const profilePicture = author?.profilePicture || user?.profilePicture || 'https://via.placeholder.com/40';\n            const username = author?.username || user?.username || 'Anonymous';\n            \n            return (\n              <div key={comment._id || Date.now()} className=\"comment\">\n                <div className=\"comment-avatar\">\n                  <img \n                    src={profilePicture} \n                    alt={username} \n                  />\n                </div>\n                <div className=\"comment-content\">\n                  <div className=\"comment-header\">\n                    <span className=\"comment-author\">{username}</span>\n                    <span className=\"comment-time\">{formatTimestamp(createdAt)}</span>\n                  </div>\n                  <p className=\"comment-text\">{content}</p>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n      \n      {user ? (\n        <form onSubmit={handleSubmitComment} className=\"comment-form\">\n          <input\n            type=\"text\"\n            value={newComment}\n            onChange={(e) => setNewComment(e.target.value)}\n            placeholder=\"Add a comment...\"\n            disabled={isSubmitting}\n          />\n          <button type=\"submit\" disabled={isSubmitting || !newComment.trim()}>\n            {isSubmitting ? '...' : 'Send'}\n          </button>\n        </form>\n      ) : (\n        <div className=\"comment-login-prompt\">\n          <Link to=\"/login\">Log in</Link> to join the conversation\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CommentSection;\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}